\usepackage{xcolor}
\definecolor{green}{rgb}{0,1,0}
\definecolor{red}{rgb}{1,0,0}
\definecolor{green}{rgb}{0,0,1}
\definecolor{orange}{rgb}{1,0.5,0}
\definecolor{dvcolor}{rgb}{1,0.5,0.5}
\def\mynote#1{{\sf $\clubsuit$ #1$\clubsuit$}}


\def\RJ#1{\textcolor{red}{\sf RJ:$\clubsuit$ #1$\clubsuit$}}
\def\ES#1{\textcolor{blue}{\sf ES:$\clubsuit$ #1$\clubsuit$}}

\newcommand\etc{\textit{etc.}\xspace}
\newcommand\eg{\textit{e.g.}\xspace}
\newcommand\ie{\textit{i.e.}\xspace}
\newcommand\ala{\textit{a la}\xspace}
\newcommand\etal{\textit{et al.}\xspace}
\newcommand\resp{\textit{resp.}\xspace}

\def\emphbf#1{\textbf{\emph{#1}}}
\def\spmid{\ \mid\ }

\newcommand{\C}{\textsc{C}\xspace}

\newcommand{\lang}{\ensuremath{\lambda^{H}}\xspace}
\newcommand{\ocaml}{\textsc{OCaml}\xspace}
\newcommand{\sherrloc}{\textsc{SHErrLoc}\xspace}
\newcommand{\mycroft}{\textsc{Mycroft}\xspace}
\newcommand{\haskell}{\textsc{Haskell}\xspace}
\newcommand{\java}{\textsc{Java}\xspace}
\newcommand{\ruby}{\textsc{Ruby}\xspace}
\newcommand{\uwbench}{\textsc{UW}\xspace}

\newcommand{\ucsdbench}{\textsc{UCSD}\xspace}
% \newcommand{\ucsdbench}{\textsc{AUTHORS}\xspace}

\newcommand{\uwsize}{291\xspace}
\newcommand{\ucsdsize}{4,509\xspace}

\newcommand\efun[2]{\ensuremath{\lambda #1. #2}\xspace}
\newcommand\eapp[2]{\ensuremath{#1\ #2}\xspace}
\newcommand\eplus[2]{\ensuremath{#1 + #2}\xspace}
% \newcommand\edapp[2]{\ensuremath{#1 \ \overline{#2}}}
\newcommand\eif[3]{\ensuremath{\mathtt{if}\ #1\ \mathtt{then}\ #2\ \mathtt{else}\ #3}\xspace}
\newcommand\elet[3]{\ensuremath{\mathtt{let}\ #1 = #2\ \mathtt{in}\ #3}\xspace}
\newcommand\enode[3]{\ensuremath{\mathtt{node}\ #1\ #2\ #3}\xspace}
\newcommand\eleaf{\ensuremath{\mathtt{leaf}}\xspace}
\newcommand\ecase[6]{\ensuremath{\mathtt{case}\ #1\ \mathtt{of} \begin{cases} \eleaf \to #2\\ \enode{#3}{#4}{#5} \to #6 \end{cases}}\xspace}
\newcommand\ehole{\ensuremath{\nu}\xspace}
\newcommand\thole{\ensuremath{\alpha}\xspace}
\newcommand\epair[2]{\ensuremath{\langle #1, #2 \rangle}\xspace}
\newcommand\epcase[4]{\ensuremath{\mathtt{case}\ #1\ \mathtt{of}\ \epair{#2}{#3} \to #4}\xspace}

% \newcommand\erec[3]{\ensuremath{\mu #1.\lambda #2. #3}}
% \newcommand\etabs[2]{\ensuremath{\left[\Lambda #1\right] #2}}
% \newcommand\etapp[2]{\ensuremath{#1 \left[ #2 \right]}}
\newcommand\etrue{\ensuremath{\mathtt{true}}\xspace}
\newcommand\efalse{\ensuremath{\mathtt{false}}\xspace}
\newcommand\vhole[1]{\ensuremath{\ehole[#1]}\xspace}
\newcommand\vnode[4]{\ensuremath{\mathtt{node}[#1]\ #2\ #3\ #4}\xspace}
\newcommand\vleaf[1]{\ensuremath{\mathtt{leaf}[#1]}\xspace}

\newcommand\stuck{\ensuremath{\mathtt{stuck}}\xspace}
\newcommand\estuck{\ensuremath{\mathbf{e}}\xspace}

%\newcommand\resolve[2]{\ensuremath{\mathsf{resolve}(#1, #2)}\xspace}
\newcommand\resolve[2]{\subst{#2}{#1}\xspace}

% Types
\newcommand\tbool{\ensuremath{\mathtt{bool}}\xspace}
\newcommand\tint{\ensuremath{\mathtt{int}}\xspace}
% \newcommand\tref[4]{\ensuremath{\{ \tbind{#1}{#2^{#3}} \mid #4 \}}}
% \newcommand\tttref[4]{\ensuremath{{\{ \ttbind{#1}{#2^{#3}} \mid \mathtt{#4} \}}}}
\newcommand\tfun{\ensuremath{\mathtt{fun}}\xspace}
\newcommand\ttree[1]{\ensuremath{\mathtt{tree}\ #1}\xspace}
\newcommand\tprod[2]{\ensuremath{#1 \times #2}\xspace}
% \newcommand\tfun[3]{\ensuremath{\tbind{#1}{#2} \rightarrow #3}}
% \newcommand\tabs[2]{\ensuremath{\forall #1 . #2}}
\newcommand\hastype[2]{\ensuremath{\typeof{#1} = {#2}}}
\newcommand\unifysym{\ensuremath{\mathsf{unify}}\xspace}
\newcommand\unify[2]{\ensuremath{\unifysym(#1,#2)}\xspace}
\newcommand\tsub[2]{\ensuremath{{#1} \preceq {#2}}}
\newcommand\tnsub[2]{\ensuremath{{#1} \npreceq {#2}}}
\newcommand\tcompat[2]{\ensuremath{#1 \sim #2}}
\newcommand\vcompat[2]{\tcompat{#1}{#2}}
\newcommand\vsub[2]{\tsub{#1}{#2}}
\newcommand\vnsub[2]{\tnsub{#1}{#2}}
\newcommand\tincompat[2]{\ensuremath{#1 \nsim #2}}
\newcommand\vincompat[2]{\tincompat{#1}{#2}}

\newcommand\typeofsym{\ensuremath{\mathsf{ty}}\xspace}
\newcommand\typeof[1]{\ensuremath{\typeofsym(#1)}\xspace}
\newcommand\ptype[2]{\ensuremath{\rho_{#1}(#2)}\xspace}


% Evaluation
\newcommand\trace{\tau}
\newcommand\pair[2]{\langle #1, #2 \rangle}
\newcommand\triple[3]{\langle #1, #2, #3 \rangle}
\newcommand\quadruple[4]{\langle #1, #2, #3, #4 \rangle}
\newcommand\step[6]{\stepsto{\triple{#1}{#2}{#3}}{\triple{#4}{#5}{#6}}}
%\newcommand\stepi[5]{\stepstoi{#1}{\pair{#2}{#3}}{\pair{#4}{#5}}}
\newcommand\steptr[7]{\stepstoi{#1}{\triple{#2}{#3}{#4}}{\triple{#5}{#6}{#7}}}
\newcommand\steps[6]{\stepstot{\triple{#1}{#2}{#3}}{\triple{#4}{#5}{#6}{}}}
\newcommand\stepg[8]{\stepsto{\quadruple{#1}{#2}{#3}{#4}}
                             {\quadruple{#5}{#6}{#7}{#8}}}
\newcommand\stepsg[8]{\stepstot{\quadruple{#1}{#2}{#3}{#4}}
                               {\quadruple{#5}{#6}{#7}{#8}}}
\newcommand\stepsto[2]{\ensuremath{#1 \hookrightarrow #2}}
\newcommand\stepstot[2]{\ensuremath{#1 \hookrightarrow^{*} #2}}
\newcommand\stepstoi[3]{\ensuremath{#2 \hookrightarrow^{#1} #3}}
\newcommand\forcesym{\ensuremath{\mathsf{narrow}}\xspace}
\newcommand\gensym{\ensuremath{\mathsf{gen}}\xspace}
\newcommand\force[4]{\ensuremath{\forcesym(#1, #2, #3, #4)}}
\newcommand\gen[2]{\ensuremath{\gensym(#1,#2)}}
\newcommand\inctx[1]{\ensuremath{C\left[#1\right]}\xspace}
% \newcommand\invctx[1]{\ensuremath{V\left[#1\right]}\xspace}
% \newcommand\intctx[1]{\ensuremath{T\left[#1\right]}\xspace}
\newcommand\generalize[2]{\ensuremath{\mathsf{generalize}(#1,#2)}}


% \newcommand\dcolon{\ensuremath{\colon\!\!\colon}}
\newcommand\vsu{\ensuremath{\sigma}}
\newcommand\su{\ensuremath{\vsu}}
\newcommand\tsu{\ensuremath{\theta}}
\newcommand\extendsu[3]{\ensuremath{#1\left[#2 \mapsto #3\right]}}
\newcommand\lookupsu[2]{\subst{#1}{#2}}

\newcommand\tr{\ensuremath{G}}
\newcommand\subtermssym{\ensuremath{\mathsf{subterms}}\xspace}
\newcommand\subterms[1]{\ensuremath{\subtermssym(#1)}}
\newcommand\subterm[2]{\ensuremath{#1 \searrow #2}}
\newcommand\singlestep[2]{\ensuremath{#1 \leadsto #2}}
\newcommand\multistep[2]{\ensuremath{#1 \leadsto^{*} #2}}
\newcommand\emptysu{\ensuremath{\varnothing}}
\newcommand\mksub[2]{\ensuremath{\left[#1 \mapsto #2\right]}}
\newcommand\subst[2]{\ensuremath{#1(#2)}}
\newcommand\sub[2]{\ensuremath{\left[#2/#1\right]}}
\newcommand\rulename[1]{\textsc{#1}\xspace}
\newcommand{\recontext}{\rulename{Context}}
\newcommand{\restuck}{\rulename{Stuck}}
\newcommand{\replusgood}{\rulename{Plus-G}}
\newcommand{\replusbadone}{\rulename{Plus-B1}}
\newcommand{\replusbadtwo}{\rulename{Plus-B2}}
\newcommand{\reifgoodone}{\rulename{If-G1}}
\newcommand{\reifgoodtwo}{\rulename{If-G2}}
\newcommand{\reifbad}{\rulename{If-B}}
\newcommand{\reappgood}{\rulename{App-G}}
\newcommand{\reappbad}{\rulename{App-B}}
\newcommand{\relet}{\rulename{Let}}
\newcommand{\renodegood}{\rulename{Node-G}}
\newcommand{\renodebadone}{\rulename{Node-B1}}
\newcommand{\renodebadtwo}{\rulename{Node-B2}}
\newcommand{\releafgood}{\rulename{Leaf-G}}
\newcommand{\recasegoodone}{\rulename{Case-G1}}
\newcommand{\recasegoodtwo}{\rulename{Case-G2}}
\newcommand{\recasebad}{\rulename{Case-B}}
\newcommand{\repcasegood}{\rulename{Case-Pair-G}}
\newcommand{\repcasebad}{\rulename{Case-Pair-B}}
\newcommand{\reholegood}{\rulename{Hole-G}}


\newcommand{\relDescription}[1]{\ensuremath{\textrm{\textbf{#1}}}}
\newcommand{\judgementHead}[2]{\ensuremath{\relDescription{#1}\hfill\fbox{#2}}}
\newcommand{\defeq}{\doteq}

% \newcommand{\genArgsSym}{\ensuremath{\mathsf{genArgs}}\xspace}
% \newcommand{\genArgs}[1]{\ensuremath{\genArgsSym(#1)}\xspace}
% \newcommand{\addArg}[1]{\ensuremath{\mathsf{addArg}(#1)}\xspace}
\newcommand{\evalSym}{\ensuremath{\mathsf{eval}}\xspace}
\newcommand{\eval}[1]{\ensuremath{\evalSym(#1)}\xspace}
% \newcommand{\genWitnessSym}{\ensuremath{\mathsf{genWitness}}\xspace}
% \newcommand{\genWitness}[2]{\ensuremath{\genWitnessSym(#1, #2)}\xspace}


\newcommand\stepoversym{\ensuremath{\mathsf{StepOver}}\xspace}
\newcommand\stepforwardsym{\ensuremath{\mathsf{StepForward}}\xspace}
\newcommand\jumpforwardsym{\ensuremath{\mathsf{JumpForward}}\xspace}
\newcommand\stepbackwardsym{\ensuremath{\mathsf{StepBackward}}\xspace}
\newcommand\jumpbackwardsym{\ensuremath{\mathsf{JumpBackward}}\xspace}
\newcommand\stepintosym{\ensuremath{\mathsf{StepInto}}\xspace}
\newcommand\rootsym{\ensuremath{\mathsf{Root}}\xspace}
\newcommand\pathsym{\ensuremath{\mathsf{Path}}\xspace}

\newcommand\stepforward[2]{\ensuremath{\stepforwardsym(#1, #2)}}
\newcommand\stepbackward[2]{\ensuremath{\stepbackwardsym(#1, #2)}}
\newcommand\jumpforward[2]{\ensuremath{\jumpforwardsym(#1, #2)}}
\newcommand\jumpbackward[2]{\ensuremath{\jumpbackwardsym(#1, #2)}}
\newcommand\stepinto[2]{\ensuremath{\stepintosym(#1, #2)}}
\newcommand\stepover[2]{\ensuremath{\stepoversym(#1, #2)}}

\newcommand\vroot[2]{\ensuremath{\rootsym(#1, #2)}}
\newcommand\vpath[2]{\ensuremath{\pathsym(#1, #2)}}
\newcommand\vstate{\ensuremath{V}}


\newcommand\nanomaly{\textsc{NanoMaLy}\xspace}

\newcommand\putBefore{putBefore}
\newcommand\putAfter{putAfter}
\newcommand\putRoot{putRoot}
\newcommand\getRoot{getRoot}
\newcommand\getPath{path}
\newcommand\getSubterms{getSubterms}
\newcommand\applyCtx{applyCtx}
\newcommand\expr{Expr}
\newcommand\ctx{Ctx}
\newcommand\cmd{Cmd}
\newcommand\findExpr{findExpr}
\newcommand\updState{updState}

\newcommand\stepforwardc{StepForward}
\newcommand\stepbackwardc{StepBack}
\newcommand\jumpforwardc{JumpForward}
\newcommand\jumpbackwardc{JumpBack}
\newcommand\stepintoc{StepInto}
\newcommand\stepoverc{StepOver}


\newcommand\toolname{\nanomaly}

\newcommand\mc[1]{\ensuremath{\mathsf{#1}}}
\newcommand\genWitnessN{\mc{GenWitness}}
\newcommand\genArgsN{\mc{Saturate}}
\newcommand\evalN{\mc{eval}}
\newcommand\takeN{\mc{take}}
\newcommand\loopN{\mc{loop}}

\newcommand{\genWitness}[2]{\ensuremath{\genWitnessN(#1,\ #2)}\xspace}
\newcommand{\genArgs}[1]{\genArgsN(#1)\xspace}
\newcommand{\takefn}[2]{\takeN(#1,\ #2)\xspace}
\newcommand{\evalfn}[1]{\evalN(#1)\xspace}
\newcommand{\loopfn}[1]{\loopN(#1)\xspace}
